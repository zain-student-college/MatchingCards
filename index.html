<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <!-- <script src="https://cdn.tailwindcss.com"></script> -->
    <link rel="stylesheet" href="style.css">
    <style>
        .flip-container {
            perspective: 1000px;
        }

        .flip-card {
            transition: transform 0.7s;
            transform-style: preserve-3d;
            position: relative;
            transform-style: preserve-3d; /* Important */
        }

        .flipped {
            transform: rotateY(180deg);
        }

        .card-front, .card-back {
            backface-visibility: hidden;
            box-shadow: 4px 4px 4px  black;
            position: absolute;
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            font-weight: bold;
            color: white;
            border: 3px solid white; /* âœ… Border now rotates */

            border-radius: 8px;
        }

        .card-front {
            background-color: rgb(238, 23, 23);
        }

        .card-back {
            background-color: blue;
            transform: rotateY(180deg);
        }
    </style>
</head>
<body class="bg-[#84DCCF] h-screen">
    <!-- Heading -->
    <div class="flex items-center justify-center h-[8%] bg-[#312F2F] text-white text-2xl font-mono">
        <h1>Matching Cards</h1>
    </div>

    <!-- Body After Heading -->
    <div class="p-2">
        <!-- Container -->
        <div class="mt-10 h-96 p-1">
            <!-- Row 1 -->
            <div class="h-1/4 flex justify-around">
                <button class="flip-container  w-1/4 h-full" onclick="this.children[0].classList.add('flipped')">
                    <div class="flip-card w-full h-full relative">
                        <div class="card-front">1</div>
                        <div class="card-back"></div>
                    </div>
                </button> 

                <button class="flip-container  w-1/4 h-full" onclick="this.children[0].classList.add('flipped')">
                    <div class="flip-card w-full h-full relative">
                        <div class="card-front">2</div>
                        <div class="card-back"></div>
                    </div>
                </button> 

                <button class="flip-container  w-1/4 h-full" onclick="this.children[0].classList.add('flipped')">
                    <div class="flip-card w-full h-full relative">
                        <div class="card-front">3</div>
                        <div class="card-back"></div>
                    </div>
                </button> 
            </div>

            <!-- Row 2 -->
            <div class="h-1/4 flex justify-around mt-5">
                <button class="flip-container  w-1/4 h-full" onclick="this.children[0].classList.add('flipped')">
                    <div class="flip-card w-full h-full relative">
                        <div class="card-front">4</div>
                        <div class="card-back"></div>
                    </div>
                </button> 

                <button class="flip-container w-1/4 h-full" onclick="this.children[0].classList.add('flipped')">
                    <div class="flip-card w-full h-full relative">
                        <div class="card-front">5</div>
                        <div class="card-back"></div>
                    </div>
                </button> 

                <button class="flip-container  w-1/4 h-full" onclick="this.children[0].classList.add('flipped')">
                    <div class="flip-card w-full h-full relative">
                        <div class="card-front">6</div>
                        <div class="card-back"></div>
                    </div>
                </button> 
            </div>

            <!-- Row 3 -->
            <div class="h-1/4 flex justify-around mt-5">
                <button class="flip-container w-1/4 h-full" onclick="this.children[0].classList.add('flipped')">
                    <div class="flip-card w-full h-full relative">
                        <div class="card-front">7</div>
                        <div class="card-back"></div>
                    </div>
                </button> 

                <button class="flip-container  w-1/4 h-full" onclick="this.children[0].classList.add('flipped')">
                    <div class="flip-card w-full h-full relative">
                        <div class="card-front">8</div>
                        <div class="card-back"></div>
                    </div>
                </button> 

                <button class="flip-container w-1/4 h-full" onclick="this.children[0].classList.add('flipped')">
                    <div class="flip-card w-full h-full relative">
                        <div class="card-front">9</div>
                        <div class="card-back"></div>
                    </div>
                </button> 
            </div>

            <!-- Row 4 -->
            <div class="h-1/4 flex justify-around mt-5">
                <button class="flip-container  w-1/4 h-full" onclick="this.children[0].classList.add('flipped')">
                    <div class="flip-card w-full h-full relative">
                        <div class="card-front">10</div>
                        <div class="card-back"></div>
                    </div>
                </button> 

                <button class="flip-container w-1/4 h-full" onclick="this.children[0].classList.add('flipped')">
                    <div class="flip-card w-full h-full relative">
                        <div class="card-front">11</div>
                        <div class="card-back"></div>
                    </div>
                </button> 

                <button class="flip-container  w-1/4 h-full" onclick="this.children[0].classList.add('flipped')">
                    <div class="flip-card w-full h-full relative">
                        <div class="card-front">12</div>
                        <div class="card-back"></div>
                    </div>
                </button> 
            </div>

        </div>
    </div>
    <script>
       let cards = document.querySelectorAll('.flip-container');
       let alpha = ["A","B","C","D","E","F"];

let sound = new Audio('clickon.mp3');
let win = new Audio('win2.wav');
let hasPlayed = false;
let firstCard = null;
let secondCard = null;
let firstClick = null;
let secondClick = null;
let lockBoard = false;

let emptycards = [];


for(let i =0 ;i<12;i++){
cards.forEach((card,index) =>{
   let cardBack = card.querySelector('.card-back');
   if(cardBack.innerText === ""){
     emptycards.push(index)
    //  console.log(emptycards)
    };
})
   
   let randomCard = Math.floor(Math.random() * emptycards.length);
   if(i < 6){
    let val = alpha[i];
   cards[emptycards[randomCard]].querySelector('.card-back').innerText = val;
//    cards[emptycards[randomCard]].querySelector('.card-front').innerText = val;
   }
   else if(i >= 6){
    let val = alpha.shift();
   cards[emptycards[randomCard]].querySelector('.card-back').innerText = val;
//    cards[emptycards[randomCard]].querySelector('.card-front').innerText = val;
   }
   
   emptycards=[];
//    console.log(randomCard);   
}

cards.forEach(card => {
    card.addEventListener('click', () => {
        if (lockBoard || card === firstCard) return; // Prevent double-clicking the same card

        sound.play();
        // card.children[0].classList.add('flipped');

        if (!hasPlayed) {
            firstCard = card;
            firstClick = card.querySelector('.card-back').innerText;
            hasPlayed = true;
        } else {
            secondCard = card;
            secondClick = secondCard.querySelector('.card-back').innerText;
            lockBoard = true;
            document.querySelectorAll('.flip-container').forEach(c => {
                c.style.pointerEvents = 'none';});
            checkMatch();
        }
    });
});

function checkMatch() {
    if (firstClick === secondClick) {
        console.log('Match found');
        firstCard.style.pointerEvents = 'none';
        secondCard.style.pointerEvents = 'none';
        firstCard.disabled = true;
        secondCard.disabled = true;
        resetgame();
        sound.pause();
        win.play();
        
    } else {
     
        setTimeout( ()=>{
        firstCard.children[0].classList.remove('flipped');
        secondCard.children[0].classList.remove('flipped'); 
           resetgame();
    },800)
    }
};
function resetgame(){
    // Reset variables for the next turn
    firstCard = null;
    secondCard = null;
    firstClick = null;
    secondClick = null;
    hasPlayed = false;
    lockBoard = false;
    document.querySelectorAll('.flip-container').forEach(c => {
        c.style.pointerEvents = 'auto';
    });}

    </script>
</body>
</html>
